#!/usr/bin/env node

var program = require('commander');
var blessed = require('blessed');
var App     = require('../lib/app');

program
  .version('0.0.1')
  .option('-h --hostname [domain]', 'Domain containing JIRA')
  .option('-u --username [name]', 'Username for JIRA')
  .option('-p --password [string]', 'Password for JIRA')
  .option('-r --run [func]', 'Action to run')
  .option('-i --issue [id]', 'Issue to run it against')
  .parse(process.argv);

process.title = 'qissues';

var app = new App(blessed.screen(), {
  cwd      : program.path || process.cwd(),
  username : program.username,
  password : program.password,
  hostname : program.hostname
});

console.error("\n\n\n\n\n");
app.start(program.run, program.issue);
